---
import Head from '@/components/Head.astro'
import Header from '@/components/Header.astro'
import Footer from '@/components/Footer.astro'
import Background from '@/components/Background.astro'

import '@/styles/reset.css'
import '@/styles/colors.css'
import '@/styles/fonts.css'
import '@/styles/layout.css'
import '@/styles/prose.css'
import '@/styles/hamburger.css'

const theme = Astro.cookies.get('theme')?.value || 'dark'
---

<!doctype html>
<html lang="en" dir="ltr" data-theme={theme}>
   <Head />

   <body class="Transitions">
      <Header />

      <main>
         <slot />
         <Background />
      </main>

      <Footer />

      <script>
         import { prefetch } from '@/lib/utils'

         document.addEventListener('astro:page-load', () => {
            prefetch()
         })
      </script>
   </body>
</html>
